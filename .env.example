# ═══════════════════════════════════════════════════════════════
# Agent-Bounty Environment Configuration
# Copy this to .env and fill in your values
# ═══════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────────
# DATABASE (Neon PostgreSQL)
# ─────────────────────────────────────────────────────────────────
# For Neon, use the pooled connection string with -pooler suffix:
# Format: postgresql://user:password@ep-xxx-pooler.region.aws.neon.tech/dbname?sslmode=require
DATABASE_URL=postgresql://user:password@ep-example-pooler.us-east-1.aws.neon.tech/agent_bounty?sslmode=require

# ─────────────────────────────────────────────────────────────────
# SESSION & SECURITY
# ─────────────────────────────────────────────────────────────────
SESSION_SECRET=your-super-secret-session-key-min-32-chars
CREDENTIAL_ENCRYPTION_KEY=your-32-character-encryption-key!
CREDENTIAL_ENCRYPTION_SALT=bountyai-vault-salt

# Comma-separated list of user IDs with admin access
ADMIN_USER_IDS=user-id-1,user-id-2

# Optional: Quantum encryption master key (falls back to SESSION_SECRET)
# QUANTUM_MASTER_KEY=your-quantum-master-key

# Optional: General encryption key for integrations hub
# ENCRYPTION_KEY=your-integrations-encryption-key

# ─────────────────────────────────────────────────────────────────
# STRIPE (Payments & Escrow)
# ─────────────────────────────────────────────────────────────────
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Platform fee percentage (default: 15%)
PLATFORM_FEE_PERCENT=15

# ─────────────────────────────────────────────────────────────────
# AI PROVIDERS
# ─────────────────────────────────────────────────────────────────
# OpenAI (required for agent execution)
OPENAI_API_KEY=sk-...

# Replit AI Integrations (preferred over OPENAI_API_KEY when available)
# AI_INTEGRATIONS_OPENAI_API_KEY=your-replit-ai-key
# AI_INTEGRATIONS_OPENAI_BASE_URL=https://your-custom-openai-endpoint

# Anthropic (optional, for Claude-based agents)
ANTHROPIC_API_KEY=sk-ant-...

# Groq (optional, for fast inference)
GROQ_API_KEY=gsk_...

# ─────────────────────────────────────────────────────────────────
# AUTHENTICATION (Replit Auth)
# ─────────────────────────────────────────────────────────────────
REPLIT_DOMAINS=your-app.replit.app
ISSUER_URL=https://replit.com

# JWT Configuration
JWT_SECRET=your-jwt-secret-key
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# ─────────────────────────────────────────────────────────────────
# APPLICATION
# ─────────────────────────────────────────────────────────────────
NODE_ENV=development
PORT=5000

# Base URL for callbacks and webhooks
APP_URL=http://localhost:5000

# ─────────────────────────────────────────────────────────────────
# RATE LIMITING
# ─────────────────────────────────────────────────────────────────
# Requests per window (defaults shown)
RATE_LIMIT_API=100
RATE_LIMIT_AUTH=10
RATE_LIMIT_AI=20
RATE_LIMIT_CREDENTIALS=5
RATE_LIMIT_STRIPE=10

# ─────────────────────────────────────────────────────────────────
# OPTIONAL: External Integrations
# ─────────────────────────────────────────────────────────────────
# GitHub (for code-based agent uploads)
GITHUB_TOKEN=ghp_...

# Slack (for notifications)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/...

# SendGrid (for emails)
SENDGRID_API_KEY=SG...
# Alternative email configuration
# EMAIL_API_KEY=your-email-api-key
EMAIL_FROM=noreply@bountyai.com

# ─────────────────────────────────────────────────────────────────
# CLOUDFLARE R2 STORAGE
# ─────────────────────────────────────────────────────────────────
# R2 is S3-compatible object storage for agent code and artifacts
R2_ACCOUNT_ID=your-cloudflare-account-id
R2_ACCESS_KEY_ID=your-r2-access-key-id
R2_SECRET_ACCESS_KEY=your-r2-secret-access-key
R2_BUCKET_NAME=agent-bounty

# ─────────────────────────────────────────────────────────────────
# UPSTASH REDIS (Serverless Caching)
# ─────────────────────────────────────────────────────────────────
# Get these from your Upstash Redis console
UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-redis-token

# ─────────────────────────────────────────────────────────────────
# UPSTASH KAFKA (Serverless Queue)
# ─────────────────────────────────────────────────────────────────
# Get these from your Upstash Kafka console
UPSTASH_KAFKA_REST_URL=https://your-kafka.upstash.io
UPSTASH_KAFKA_REST_USERNAME=your-kafka-username
UPSTASH_KAFKA_REST_PASSWORD=your-kafka-password

# ─────────────────────────────────────────────────────────────────
# FEATURE FLAGS
# ─────────────────────────────────────────────────────────────────
# Enable/disable serverless infrastructure components
USE_WASMTIME_SANDBOX=false
USE_UPSTASH_REDIS=false
USE_UPSTASH_KAFKA=false
USE_R2_STORAGE=false

# ─────────────────────────────────────────────────────────────────
# BLOCKCHAIN (Optional)
# ─────────────────────────────────────────────────────────────────
# RPC endpoints for blockchain integration
ETHEREUM_RPC_URL=https://eth.llamarpc.com
POLYGON_RPC_URL=https://polygon.llamarpc.com
ARBITRUM_RPC_URL=https://arb1.arbitrum.io/rpc

# ─────────────────────────────────────────────────────────────────
# ERROR TRACKING (Optional)
# ─────────────────────────────────────────────────────────────────
SENTRY_DSN=https://your-sentry-dsn
APP_VERSION=1.0.0

# ─────────────────────────────────────────────────────────────────
# LOGGING
# ─────────────────────────────────────────────────────────────────
# Set to "debug" for verbose logging
LOG_LEVEL=info

# ─────────────────────────────────────────────────────────────────
# FRONTEND (Vite)
# ─────────────────────────────────────────────────────────────────
# Web Push VAPID public key for PWA notifications
# VITE_VAPID_PUBLIC_KEY=your-vapid-public-key
