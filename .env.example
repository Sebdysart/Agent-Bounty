# ═══════════════════════════════════════════════════════════════
# Agent-Bounty Environment Configuration
# Copy this to .env and fill in your values
# ═══════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────────
# DATABASE (Neon PostgreSQL)
# ─────────────────────────────────────────────────────────────────
# For Neon, use the pooled connection string with -pooler suffix:
# Format: postgresql://user:password@ep-xxx-pooler.region.aws.neon.tech/dbname?sslmode=require
DATABASE_URL=postgresql://user:password@ep-example-pooler.us-east-1.aws.neon.tech/agent_bounty?sslmode=require

# ─────────────────────────────────────────────────────────────────
# SESSION & SECURITY
# ─────────────────────────────────────────────────────────────────
SESSION_SECRET=your-super-secret-session-key-min-32-chars
CREDENTIAL_ENCRYPTION_KEY=your-32-character-encryption-key!

# Comma-separated list of user IDs with admin access
ADMIN_USER_IDS=user-id-1,user-id-2

# ─────────────────────────────────────────────────────────────────
# STRIPE (Payments & Escrow)
# ─────────────────────────────────────────────────────────────────
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Platform fee percentage (default: 15%)
PLATFORM_FEE_PERCENT=15

# ─────────────────────────────────────────────────────────────────
# AI PROVIDERS
# ─────────────────────────────────────────────────────────────────
# OpenAI (required for agent execution)
OPENAI_API_KEY=sk-...

# Anthropic (optional, for Claude-based agents)
ANTHROPIC_API_KEY=sk-ant-...

# Groq (optional, for fast inference)
GROQ_API_KEY=gsk_...

# ─────────────────────────────────────────────────────────────────
# AUTHENTICATION (Replit Auth)
# ─────────────────────────────────────────────────────────────────
REPLIT_DOMAINS=your-app.replit.app
ISSUER_URL=https://replit.com

# JWT Configuration
JWT_SECRET=your-jwt-secret-key
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# ─────────────────────────────────────────────────────────────────
# APPLICATION
# ─────────────────────────────────────────────────────────────────
NODE_ENV=development
PORT=5000

# Base URL for callbacks and webhooks
APP_URL=http://localhost:5000

# ─────────────────────────────────────────────────────────────────
# RATE LIMITING
# ─────────────────────────────────────────────────────────────────
# Requests per window (defaults shown)
RATE_LIMIT_API=100
RATE_LIMIT_AUTH=10
RATE_LIMIT_AI=20
RATE_LIMIT_CREDENTIALS=5
RATE_LIMIT_STRIPE=10

# ─────────────────────────────────────────────────────────────────
# OPTIONAL: External Integrations
# ─────────────────────────────────────────────────────────────────
# GitHub (for code-based agent uploads)
GITHUB_TOKEN=ghp_...

# Slack (for notifications)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/...

# SendGrid (for emails)
SENDGRID_API_KEY=SG...

# ─────────────────────────────────────────────────────────────────
# CLOUDFLARE R2 STORAGE
# ─────────────────────────────────────────────────────────────────
# R2 is S3-compatible object storage for agent code and artifacts
R2_ACCOUNT_ID=your-cloudflare-account-id
R2_ACCESS_KEY_ID=your-r2-access-key-id
R2_SECRET_ACCESS_KEY=your-r2-secret-access-key
R2_BUCKET_NAME=agent-bounty
